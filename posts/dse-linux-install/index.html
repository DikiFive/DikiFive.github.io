<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>迅软 DSE Linux V6.5 版本安装卸载与命令指南 | DK_blog</title><meta name=keywords content="Tutorial"><meta name=description content="迅软 DSE Linux V6.5"><meta name=author content="DikiFive"><link rel=canonical href=https://DikiFive.github.io/posts/dse-linux-install/><link crossorigin=anonymous href=/assets/css/stylesheet.e9636ddea4ceff8aa6c924886051986ea740c91527ee28f996bda2cf974ef2d5.css integrity="sha256-6WNt3qTO/4qmySSIYFGYbqdAyRUn7ij5lr2iz5dO8tU=" rel="preload stylesheet" as=style><link rel=icon href=https://DikiFive.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://DikiFive.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://DikiFive.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://DikiFive.github.io/apple-touch-icon.png><link rel=mask-icon href=https://DikiFive.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://DikiFive.github.io/posts/dse-linux-install/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://DikiFive.github.io/posts/dse-linux-install/"><meta property="og:site_name" content="DK_blog"><meta property="og:title" content="迅软 DSE Linux V6.5 版本安装卸载与命令指南"><meta property="og:description" content="迅软 DSE Linux V6.5"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-10-30T00:00:00+00:00"><meta property="article:modified_time" content="2025-10-30T00:00:00+00:00"><meta property="article:tag" content="Tutorial"><meta name=twitter:card content="summary"><meta name=twitter:title content="迅软 DSE Linux V6.5 版本安装卸载与命令指南"><meta name=twitter:description content="迅软 DSE Linux V6.5"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"文章","item":"https://DikiFive.github.io/posts/"},{"@type":"ListItem","position":2,"name":"迅软 DSE Linux V6.5 版本安装卸载与命令指南","item":"https://DikiFive.github.io/posts/dse-linux-install/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"迅软 DSE Linux V6.5 版本安装卸载与命令指南","name":"迅软 DSE Linux V6.5 版本安装卸载与命令指南","description":"迅软 DSE Linux V6.5","keywords":["Tutorial"],"articleBody":"迅软 DSE Linux V6.5 (x64+x86) 版本安装卸载与命令指南 一、安装前准备：内核兼容性查询与安装包下载 在执行 DSE 客户端安装前，需先确认系统内核是否兼容，并下载对应版本的安装包，避免因内核不匹配或安装包错误导致安装失败。\n1.1 查询系统内核并验证兼容性 获取当前系统内核版本 打开 Linux 终端，执行以下命令查看当前系统内核版本（记录输出结果，如5.4.0-150-generic）：\nuname -r 验证内核兼容性 访问讯软DSE内核模块库，在页面的内核模块列表中，搜索步骤 1 获取的内核版本（列表中模块文件命名格式为DSEKernelSafeCtrl-xxx.ko，其中xxx对应内核版本）：\n若搜索到对应内核模块文件，说明内核兼容，可继续下一步；\n若未搜索到，需先更换为列表中存在的内核版本，或联系技术支持进行内核适配。\n1.2 下载最新安装包 确认内核兼容后，访问讯软安装包网址，在安装包列表中选择最后更新时间最新的.run格式文件（如DSEClientSetupV6.5.10818.31816.run），下载至 Linux 系统的目标路径（建议保存到~/dse/目录，方便后续安装操作）。\n二、DSE 客户端安装与卸载 本节仅介绍手动安装方式（方法 2），该方式无需依赖网络实时下载脚本，适用于有安装包本地存储的场景。\n2.1 手动安装步骤 拷贝安装包至 Linux 系统 若安装包下载至本地电脑，需通过scp命令或 U 盘等方式，将DSEClientSetup_x.x.xxxx.xx.run安装包（如DSEClientSetupV6.5.10818.31816.run）拷贝到 Linux 系统的目标路径（例：~/dse/）；若已直接下载到 Linux 系统，可跳过此步骤。\n切换至 root 用户 打开终端，执行以下命令进入 root 权限（需输入 root 密码）：\nsu 或使用sudo切换（部分系统适用）：\nsudo -i 修改安装包权限 进入安装包所在目录（以~/dse/为例），执行命令赋予安装包可执行权限：\ncd ~/dse/chmod +x DSEClientSetup_x.x.xxxx.xx.run 提示：将命令中的DSEClientSetup_x.x.xxxx.xx.run替换为实际下载的安装包文件名。\n运行安装程序 执行以下命令启动安装流程：\n./DSEClientSetup_x.x.xxxx.xx.run 安装程序会先验证安装包完整性，显示如下信息表示验证通过：\nVerifying archive integrity...100% MD5 checksums are ok. All good.Uncompressing DSE Linux Client Setup 100% 内核模块与服务器配置 安装程序会自动检测内核模块，显示Find kernel module for dse表示正在匹配内核，若之前已确认内核兼容，会提示输入 DSE 服务器信息；\n按提示输入DSE 服务器 IP 地址和端口：\n若显示[default 172.17.18.116]，直接回车表示使用默认 IP，也可输入自定义 IP；\n若显示[default 5558]，直接回车表示使用默认端口，也可输入自定义端口。\n示例配置：\nMachine:X64Find kernel module for dsePlease input server ip[default 172.17.18.116]:192.168.1.100 # 自定义IPPlease input server port [default 5558]:5559 # 自定义端口 MOK 验证（可选） 若安装过程中出现以下提示，说明系统需要 MOK（Machine Owner Key）驱动签名验证，需设置并记住 MOK 密码（重启时需验证）： Please enter and remember the MoK password, Restart requires password.input password: # 输入密码（建议复杂度高，避免遗忘）input password again: # 再次输入密码确认 密码设置完成后，会显示Install DSE Client Successed.。 关闭内核自动升级（重要） 警告：Linux 系统内核自动升级后，可能导致 DSE 内核模块加载失败，建议安装后关闭内核自动升级功能（具体方法因系统而异，如 CentOS 可通过yum-cron服务禁用，Ubuntu 可通过unattended-upgrades配置禁用）。\n安装完成 显示Install DSE Client Successed. Starting DSELinuxClient Service……..表示客户端安装完毕，服务已自动启动。\n2.2 重启 DSE 客户端服务 若安装后需重启服务，可选择以下两种方法之一：\n使用systemctl命令： sudo systemctl restart DSELinuxClient 使用service命令： sudo service DSELinuxClient restart 2.3 卸载 DSE 客户端 若需卸载客户端，执行以下命令（需 root 权限）：\nsudo /usr/local/DSELinuxClient/scripts/uninstall.sh 三、DSE 核心命令详解 DSE 客户端通过DSEMainService命令实现配置、加密、解密等核心功能，以下是常用命令的详细说明与示例。\n3.1 基础配置命令 3.1.1 配置服务器连接与网卡 用于设置客户端连接的服务器 IP、端口，以及客户端在服务器显示的 IP 所属网卡，命令格式：\nDSEMainService configure 执行后按提示输入信息： root@ubuntu:~# DSEMainService configurePlease input server ip[default 172.17.18.116]:192.168.1.100 # 服务器IPPlease input server port [default 5558]:5559 # 服务器端口Please input network card name [default lo]:ens32 # 网卡名称（如ens32，可通过`ip addr`查看） 3.1.2 更新控制台策略 用于同步 Windows 控制台下发的加密策略（策略下发后约 2 分钟自动更新，也可手动触发），命令格式：\nDSEMainService update 成功更新后显示： root@ubuntu:~# DSEMainService updateUpdate policy for success. The current encrypt program number: 8 # 8表示当前加密程序数量 3.1.3 查看客户端状态 用于查看 DSE 驱动、连接、工作模式等状态信息，命令格式：\nDSEMainService status 输出信息说明：\nDrivers status: 1 = 驱动加载成功，0 = 驱动加载失败；\nLocal IP: 客户端本地 IP（可通过Setting.ini的clientnic字段修改）；\nServer IP: 连接的 DSE 服务器 IP；\nConnect status: 1 = 连接服务器成功，0 = 连接失败；\nWorkState: 1 = 工作模式，0 = 个人模式；\nNetworkCtl: 1 = 启用网关控制，0 = 未启用。\n示例输出：\nroot@ubuntu:~# DSEMainService statusDrivers status:1Local IP:192.168.1.101Server IP:192.168.1.100Connect status:1WorkState:1NetworkCtl:1 3.1.4 查看客户端版本 用于查看当前 DSE 客户端版本，命令格式：\nDSEMainService version 示例输出： root@ubuntu:~# DSEMainService versionLinux Client Version:6.5.1080.21406 3.1.5 查看本机机器码 用于获取客户端所在机器的唯一标识（机器码），命令格式：\nDSEMainService machineid 示例输出： root@ubuntu:~# DSEMainService machineidMachine ID:564D833C03A77181D5DE744D9B86C3B9 3.2 文件加密与解密命令 3.2.1 加密文件 / 文件夹 支持加密单个文件、多个文件夹，以及指定文件类型加密，命令格式：\nDSEMainService encrypt path/file –t filetypes # -t 可选，用于指定文件类型 常见返回信息说明：\nNo encrypt privilege right, file :xxx: 无加密权限，需在 Windows 控制台配置；\nEncrypt file :xxx succeeded: 文件加密成功；\nEncrypt file :xxx failed: 文件加密失败；\nIgnore the file type: xxx: 忽略该文件类型（无需加密）；\nThe file is encrypted: xxx: 文件已加密；\nxxx: No such file or directory: 文件 / 目录不存在。\n示例 1：加密单个文件（newuser.h）\nroot@ubuntu:~/demo# DSEMainService encrypt newuser.hstart Encrypt: newuser.hEncrypt file: newuser.h succeeded. 示例 2：加密文件夹（test/） root@ubuntu:~/demo# DSEMainService encrypt test/start Encrypt: testEncrypt file: test/findwindow.cpp succeeded.Encrypt file: test/findwindow.h succeeded.Encrypt files:2, Not encrypt files:0, Total scan files:2 示例 3：加密文件夹中指定类型文件（test/中的.cpp和.h文件） root@ubuntu:~/demo# DSEMainService encrypt test/ -t cpp hFile type:cpp;hstart Encrypt: testEncrypt file: test/modelviewdemowidget.cpp succeeded.Ignore the file type: test/QTableview.pro.user.1cdd64b.4.8-prel.Encrypt file: test/findwindow.cpp succeeded.Encrypt file: test/findwindow.h succeeded.Encrypt file: test/modelviewdemowidget.h succeeded.Ignore the file type: test/QTableview.pro.Encrypt files:4, Not encrypt files:4, Total scan files:8 3.2.2 解密文件 / 文件夹 支持解密单个文件、多个文件夹，以及指定文件类型解密，命令格式：\nDSEMainService decrypt path/file –t filetypes # -t 可选，用于指定文件类型 常见返回信息说明（与加密类似）：\nNo decrypt privilege right, file :xxx: 无解密权限，需在 Windows 控制台配置；\nDecrypt file :xxx succeeded: 文件解密成功；\nDecrypt file :xxx failed: 文件解密失败；\nThe file is not encrypted: xxx: 文件未加密（无需解密）。\n示例 1：解密单个文件（newuser.h，控制台配置了解密密码时需输入）\nroot@ubuntu:~/demo# DSEMainService decrypt newuser.hPlease decrypt passwd:*** # 输入解密密码start Decrypt: newuser.hDecrypt file: newuser.h succeeded. 示例 2：解密文件夹中指定类型文件（test/中的.cpp和.h文件） root@ubuntu:~/demo# DSEMainService decrypt test/ -t cpp hFile type:cpp;hstart Decrypt: testIgnore the file type: test/QTableview.pro.user.1cdd64b.4.8-prel.Decrypt file: test/findwindow.cpp succeeded.Decrypt file: test/findwindow.h succeeded.Ignore the file type: test/QTableView.pro.Decrypt files:2, Not decrypt files:3, Total scan files:5 3.3 模式切换与日志命令 3.3.1 切换到个人模式 个人模式下，DSE 客户端暂停加密策略管控，命令格式：\nDSEMainService stopdrv 注意事项：\n若执行后显示set work stat fail:not allow switch work state，需先在 Windows 控制台配置：加密策略→文档基本策略→勾选 “允许工作模式与个人模式切换功能”，保存并下发策略，再执行DSEMainService update更新策略；\n切换成功后，执行DSEMainService status会显示WorkState:0。\n示例：\nroot@ubuntu:~/demo# DSEMainService stopdrvset work stat okroot@ubuntu:~/demo# DSEMainService statusDrivers status:1Local IP:192.168.1.101Server IP:192.168.1.100Connect status:1WorkState:0 # 已切换到个人模式NetworkCtl:1 3.3.2 切换到工作模式 工作模式下，DSE 客户端启用加密策略管控，命令格式：\nDSEMainService startdrv 注意事项：与个人模式切换类似，若提示无权限，需先在控制台配置切换权限并更新策略；\n切换成功后，DSEMainService status会显示WorkState:1。\n3.3.3 开启 dmesg 日志记录 用于记录非加密进程打开加密文件的日志（调试场景使用），命令格式：\n# 开启日志记录DSEMainService trace on# 关闭日志记录DSEMainService trace off 示例：检测cat命令是否能自动解密加密文件（users.txt） 先加密users.txt： root@ubuntu:~/demo# DSEMainService encrypt users.txtstart Encrypt: users.txtEncrypt file: users.txt succeeded. 开启日志记录并清空历史日志： root@ubuntu:~/demo# DSEMainService trace onset trace success.root@ubuntu:~/demo# dmesg -C # 清空dmesg历史日志 使用cat查看加密文件： root@ubuntu:~/demo# cat users.txt# 显示乱码（表示无法自动解密） 查看日志确认结果： root@ubuntu:~/demo# dmesg | grep auto4061.706515] DSE:Time:[UTC time:2021-3-23 3:8:48] :process name:/bin/cat,open encrypt file:/root/demo/users.txt ,not auto decrypt! 结论：cat进程无法自动解密users.txt文件。\n3.4 其他实用命令 3.4.1 检测文件加密状态 用于检查文件 / 文件夹是否已加密，命令格式：\nDSEMainService check path/file –t filetypes # -t 可选，指定文件类型 示例： # 检测已加密文件（a.c）root@kepler:~# DSEMainService check a.cstart Check Encrypt File: a.c.Encrypt file: a.c.# ","wordCount":"673","inLanguage":"en","datePublished":"2025-10-30T00:00:00Z","dateModified":"2025-10-30T00:00:00Z","author":{"@type":"Person","name":"DikiFive"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://DikiFive.github.io/posts/dse-linux-install/"},"publisher":{"@type":"Organization","name":"DK_blog","logo":{"@type":"ImageObject","url":"https://DikiFive.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://DikiFive.github.io/ accesskey=h title="DK_blog (Alt + H)">DK_blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://DikiFive.github.io/ title=Home><span>Home</span></a></li><li><a href=https://DikiFive.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://DikiFive.github.io/reading title=Reading><span>Reading</span></a></li><li><a href=https://DikiFive.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://DikiFive.github.io/about title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">迅软 DSE Linux V6.5 版本安装卸载与命令指南</h1><div class=post-meta><span title='2025-10-30 00:00:00 +0000 UTC'>October 30, 2025</span>&nbsp;·&nbsp;<span>4 min</span>&nbsp;·&nbsp;<span>DikiFive</span></div></header><div class=post-content><h1 id=迅软-dse-linux-v65-x64x86-版本安装卸载与命令指南>迅软 DSE Linux V6.5 (x64+x86) 版本安装卸载与命令指南<a hidden class=anchor aria-hidden=true href=#迅软-dse-linux-v65-x64x86-版本安装卸载与命令指南>#</a></h1><h2 id=一安装前准备内核兼容性查询与安装包下载>一、安装前准备：内核兼容性查询与安装包下载<a hidden class=anchor aria-hidden=true href=#一安装前准备内核兼容性查询与安装包下载>#</a></h2><p>在执行 DSE 客户端安装前，需先确认系统内核是否兼容，并下载对应版本的安装包，避免因内核不匹配或安装包错误导致安装失败。</p><h3 id=11-查询系统内核并验证兼容性>1.1 查询系统内核并验证兼容性<a hidden class=anchor aria-hidden=true href=#11-查询系统内核并验证兼容性>#</a></h3><ol><li><strong>获取当前系统内核版本</strong></li></ol><p>打开 Linux 终端，执行以下命令查看当前系统内核版本（记录输出结果，如5.4.0-150-generic）：</p><pre tabindex=0><code>uname -r
</code></pre><ol start=2><li><strong>验证内核兼容性</strong></li></ol><p>访问<a href=http://linuxkernel.e-docs.cn:5080/Kernel/x64+x86/kmod/>讯软DSE内核模块库</a>，在页面的内核模块列表中，搜索步骤 1 获取的内核版本（列表中模块文件命名格式为DSEKernelSafeCtrl-xxx.ko，其中xxx对应内核版本）：</p><ul><li><p>若搜索到对应内核模块文件，说明内核兼容，可继续下一步；</p></li><li><p>若未搜索到，需先更换为列表中存在的内核版本，或联系技术支持进行内核适配。</p></li></ul><h3 id=12-下载最新安装包>1.2 下载最新安装包<a hidden class=anchor aria-hidden=true href=#12-下载最新安装包>#</a></h3><p>确认内核兼容后，访问<a href=http://linuxkernel.e-docs.cn:5080/Package/linux-setup-packageV6.5%5bx64+x86%5d/>讯软安装包网址</a>，在安装包列表中选择<strong>最后更新时间最新</strong>的.run格式文件（如DSEClientSetupV6.5.10818.31816.run），下载至 Linux 系统的目标路径（建议保存到~/dse/目录，方便后续安装操作）。</p><h2 id=二dse-客户端安装与卸载>二、DSE 客户端安装与卸载<a hidden class=anchor aria-hidden=true href=#二dse-客户端安装与卸载>#</a></h2><p>本节仅介绍<strong>手动安装方式</strong>（方法 2），该方式无需依赖网络实时下载脚本，适用于有安装包本地存储的场景。</p><h3 id=21-手动安装步骤>2.1 手动安装步骤<a hidden class=anchor aria-hidden=true href=#21-手动安装步骤>#</a></h3><ol><li><strong>拷贝安装包至 Linux 系统</strong></li></ol><p>若安装包下载至本地电脑，需通过scp命令或 U 盘等方式，将DSEClientSetup_x.x.xxxx.xx.run安装包（如DSEClientSetupV6.5.10818.31816.run）拷贝到 Linux 系统的目标路径（例：~/dse/）；若已直接下载到 Linux 系统，可跳过此步骤。</p><ol start=2><li><strong>切换至 root 用户</strong></li></ol><p>打开终端，执行以下命令进入 root 权限（需输入 root 密码）：</p><pre tabindex=0><code>su
</code></pre><p>或使用sudo切换（部分系统适用）：</p><pre tabindex=0><code>sudo -i
</code></pre><ol start=3><li><strong>修改安装包权限</strong></li></ol><p>进入安装包所在目录（以~/dse/为例），执行命令赋予安装包可执行权限：</p><pre tabindex=0><code>cd ~/dse/chmod +x DSEClientSetup_x.x.xxxx.xx.run
</code></pre><blockquote><p>提示：将命令中的DSEClientSetup_x.x.xxxx.xx.run替换为实际下载的安装包文件名。</p></blockquote><ol start=4><li><strong>运行安装程序</strong></li></ol><p>执行以下命令启动安装流程：</p><pre tabindex=0><code>./DSEClientSetup_x.x.xxxx.xx.run
</code></pre><p>安装程序会先验证安装包完整性，显示如下信息表示验证通过：</p><pre tabindex=0><code>Verifying archive integrity...100% MD5 checksums are ok. All good.Uncompressing DSE Linux Client Setup 100%
</code></pre><ol start=5><li><strong>内核模块与服务器配置</strong></li></ol><ul><li><p>安装程序会自动检测内核模块，显示Find kernel module for dse表示正在匹配内核，若之前已确认内核兼容，会提示输入 DSE 服务器信息；</p></li><li><p>按提示输入<strong>DSE 服务器 IP 地址</strong>和<strong>端口</strong>：</p></li><li><p>若显示[default <a href=http://172.17.18.116>172.17.18.116</a>]，直接回车表示使用默认 IP，也可输入自定义 IP；</p></li><li><p>若显示[default 5558]，直接回车表示使用默认端口，也可输入自定义端口。</p></li><li><p>示例配置：</p></li></ul><pre tabindex=0><code>Machine:X64Find kernel module for dsePlease input server ip[default 172.17.18.116]:192.168.1.100  # 自定义IPPlease input server port [default 5558]:5559  # 自定义端口
</code></pre><ol start=6><li><strong>MOK 验证（可选）</strong></li></ol><ul><li>若安装过程中出现以下提示，说明系统需要 MOK（Machine Owner Key）驱动签名验证，需设置并记住 MOK 密码（重启时需验证）：</li></ul><pre tabindex=0><code>Please enter and remember the MoK password, Restart requires password.input password:  # 输入密码（建议复杂度高，避免遗忘）input password again:  # 再次输入密码确认
</code></pre><ul><li>密码设置完成后，会显示Install DSE Client Successed.。</li></ul><ol start=7><li><strong>关闭内核自动升级（重要）</strong></li></ol><blockquote><p>警告：Linux 系统内核自动升级后，可能导致 DSE 内核模块加载失败，建议安装后关闭内核自动升级功能（具体方法因系统而异，如 CentOS 可通过yum-cron服务禁用，Ubuntu 可通过unattended-upgrades配置禁用）。</p></blockquote><ol start=8><li><strong>安装完成</strong></li></ol><p>显示Install DSE Client Successed. Starting DSELinuxClient Service&mldr;&mldr;..表示客户端安装完毕，服务已自动启动。</p><h3 id=22-重启-dse-客户端服务>2.2 重启 DSE 客户端服务<a hidden class=anchor aria-hidden=true href=#22-重启-dse-客户端服务>#</a></h3><p>若安装后需重启服务，可选择以下两种方法之一：</p><ol><li>使用systemctl命令：</li></ol><pre tabindex=0><code>sudo systemctl restart DSELinuxClient
</code></pre><ol start=2><li>使用service命令：</li></ol><pre tabindex=0><code>sudo service DSELinuxClient restart
</code></pre><h3 id=23-卸载-dse-客户端>2.3 卸载 DSE 客户端<a hidden class=anchor aria-hidden=true href=#23-卸载-dse-客户端>#</a></h3><p>若需卸载客户端，执行以下命令（需 root 权限）：</p><pre tabindex=0><code>sudo /usr/local/DSELinuxClient/scripts/uninstall.sh
</code></pre><hr><h2 id=三dse-核心命令详解>三、DSE 核心命令详解<a hidden class=anchor aria-hidden=true href=#三dse-核心命令详解>#</a></h2><p>DSE 客户端通过DSEMainService命令实现配置、加密、解密等核心功能，以下是常用命令的详细说明与示例。</p><h3 id=31-基础配置命令>3.1 基础配置命令<a hidden class=anchor aria-hidden=true href=#31-基础配置命令>#</a></h3><h4 id=311-配置服务器连接与网卡>3.1.1 配置服务器连接与网卡<a hidden class=anchor aria-hidden=true href=#311-配置服务器连接与网卡>#</a></h4><p>用于设置客户端连接的服务器 IP、端口，以及客户端在服务器显示的 IP 所属网卡，命令格式：</p><pre tabindex=0><code>DSEMainService configure
</code></pre><ul><li>执行后按提示输入信息：</li></ul><pre tabindex=0><code>root@ubuntu:~# DSEMainService configurePlease input server ip[default 172.17.18.116]:192.168.1.100  # 服务器IPPlease input server port [default 5558]:5559  # 服务器端口Please input network card name [default lo]:ens32  # 网卡名称（如ens32，可通过`ip addr`查看）
</code></pre><h4 id=312-更新控制台策略>3.1.2 更新控制台策略<a hidden class=anchor aria-hidden=true href=#312-更新控制台策略>#</a></h4><p>用于同步 Windows 控制台下发的加密策略（策略下发后约 2 分钟自动更新，也可手动触发），命令格式：</p><pre tabindex=0><code>DSEMainService update
</code></pre><ul><li>成功更新后显示：</li></ul><pre tabindex=0><code>root@ubuntu:~# DSEMainService updateUpdate policy for success. The current encrypt program number: 8  # 8表示当前加密程序数量
</code></pre><h4 id=313-查看客户端状态>3.1.3 查看客户端状态<a hidden class=anchor aria-hidden=true href=#313-查看客户端状态>#</a></h4><p>用于查看 DSE 驱动、连接、工作模式等状态信息，命令格式：</p><pre tabindex=0><code>DSEMainService status
</code></pre><ul><li><p>输出信息说明：</p></li><li><p>Drivers status: 1 = 驱动加载成功，0 = 驱动加载失败；</p></li><li><p>Local IP: 客户端本地 IP（可通过Setting.ini的clientnic字段修改）；</p></li><li><p>Server IP: 连接的 DSE 服务器 IP；</p></li><li><p>Connect status: 1 = 连接服务器成功，0 = 连接失败；</p></li><li><p>WorkState: 1 = 工作模式，0 = 个人模式；</p></li><li><p>NetworkCtl: 1 = 启用网关控制，0 = 未启用。</p></li><li><p>示例输出：</p></li></ul><pre tabindex=0><code>root@ubuntu:~# DSEMainService statusDrivers status:1Local IP:192.168.1.101Server IP:192.168.1.100Connect status:1WorkState:1NetworkCtl:1
</code></pre><h4 id=314-查看客户端版本>3.1.4 查看客户端版本<a hidden class=anchor aria-hidden=true href=#314-查看客户端版本>#</a></h4><p>用于查看当前 DSE 客户端版本，命令格式：</p><pre tabindex=0><code>DSEMainService version
</code></pre><ul><li>示例输出：</li></ul><pre tabindex=0><code>root@ubuntu:~# DSEMainService versionLinux Client Version:6.5.1080.21406
</code></pre><h4 id=315-查看本机机器码>3.1.5 查看本机机器码<a hidden class=anchor aria-hidden=true href=#315-查看本机机器码>#</a></h4><p>用于获取客户端所在机器的唯一标识（机器码），命令格式：</p><pre tabindex=0><code>DSEMainService machineid
</code></pre><ul><li>示例输出：</li></ul><pre tabindex=0><code>root@ubuntu:~# DSEMainService machineidMachine ID:564D833C03A77181D5DE744D9B86C3B9
</code></pre><h3 id=32-文件加密与解密命令>3.2 文件加密与解密命令<a hidden class=anchor aria-hidden=true href=#32-文件加密与解密命令>#</a></h3><h4 id=321-加密文件--文件夹>3.2.1 加密文件 / 文件夹<a hidden class=anchor aria-hidden=true href=#321-加密文件--文件夹>#</a></h4><p>支持加密单个文件、多个文件夹，以及指定文件类型加密，命令格式：</p><pre tabindex=0><code>DSEMainService encrypt path/file –t filetypes  # -t 可选，用于指定文件类型
</code></pre><ul><li><p>常见返回信息说明：</p></li><li><p>No encrypt privilege right, file :xxx: 无加密权限，需在 Windows 控制台配置；</p></li><li><p>Encrypt file :xxx succeeded: 文件加密成功；</p></li><li><p>Encrypt file :xxx failed: 文件加密失败；</p></li><li><p>Ignore the file type: xxx: 忽略该文件类型（无需加密）；</p></li><li><p>The file is encrypted: xxx: 文件已加密；</p></li><li><p>xxx: No such file or directory: 文件 / 目录不存在。</p></li><li><p>示例 1：加密单个文件（newuser.h）</p></li></ul><pre tabindex=0><code>root@ubuntu:~/demo# DSEMainService encrypt newuser.hstart Encrypt: newuser.hEncrypt file: newuser.h succeeded.
</code></pre><ul><li>示例 2：加密文件夹（test/）</li></ul><pre tabindex=0><code>root@ubuntu:~/demo# DSEMainService encrypt test/start Encrypt: testEncrypt file: test/findwindow.cpp succeeded.Encrypt file: test/findwindow.h succeeded.Encrypt files:2, Not encrypt files:0, Total scan files:2
</code></pre><ul><li>示例 3：加密文件夹中指定类型文件（test/中的.cpp和.h文件）</li></ul><pre tabindex=0><code>root@ubuntu:~/demo# DSEMainService encrypt test/ -t cpp hFile type:cpp;hstart Encrypt: testEncrypt file: test/modelviewdemowidget.cpp succeeded.Ignore the file type: test/QTableview.pro.user.1cdd64b.4.8-prel.Encrypt file: test/findwindow.cpp succeeded.Encrypt file: test/findwindow.h succeeded.Encrypt file: test/modelviewdemowidget.h succeeded.Ignore the file type: test/QTableview.pro.Encrypt files:4, Not encrypt files:4, Total scan files:8
</code></pre><h4 id=322-解密文件--文件夹>3.2.2 解密文件 / 文件夹<a hidden class=anchor aria-hidden=true href=#322-解密文件--文件夹>#</a></h4><p>支持解密单个文件、多个文件夹，以及指定文件类型解密，命令格式：</p><pre tabindex=0><code>DSEMainService decrypt path/file –t filetypes  # -t 可选，用于指定文件类型
</code></pre><ul><li><p>常见返回信息说明（与加密类似）：</p></li><li><p>No decrypt privilege right, file :xxx: 无解密权限，需在 Windows 控制台配置；</p></li><li><p>Decrypt file :xxx succeeded: 文件解密成功；</p></li><li><p>Decrypt file :xxx failed: 文件解密失败；</p></li><li><p>The file is not encrypted: xxx: 文件未加密（无需解密）。</p></li><li><p>示例 1：解密单个文件（newuser.h，控制台配置了解密密码时需输入）</p></li></ul><pre tabindex=0><code>root@ubuntu:~/demo# DSEMainService decrypt newuser.hPlease decrypt passwd:***  # 输入解密密码start Decrypt: newuser.hDecrypt file: newuser.h succeeded.
</code></pre><ul><li>示例 2：解密文件夹中指定类型文件（test/中的.cpp和.h文件）</li></ul><pre tabindex=0><code>root@ubuntu:~/demo# DSEMainService decrypt test/ -t cpp hFile type:cpp;hstart Decrypt: testIgnore the file type: test/QTableview.pro.user.1cdd64b.4.8-prel.Decrypt file: test/findwindow.cpp succeeded.Decrypt file: test/findwindow.h succeeded.Ignore the file type: test/QTableView.pro.Decrypt files:2, Not decrypt files:3, Total scan files:5
</code></pre><h3 id=33-模式切换与日志命令>3.3 模式切换与日志命令<a hidden class=anchor aria-hidden=true href=#33-模式切换与日志命令>#</a></h3><h4 id=331-切换到个人模式>3.3.1 切换到个人模式<a hidden class=anchor aria-hidden=true href=#331-切换到个人模式>#</a></h4><p>个人模式下，DSE 客户端暂停加密策略管控，命令格式：</p><pre tabindex=0><code>DSEMainService stopdrv
</code></pre><ul><li><p>注意事项：</p></li><li><p>若执行后显示set work stat fail:not allow switch work state，需先在 Windows 控制台配置：<strong>加密策略→文档基本策略→勾选 “允许工作模式与个人模式切换功能”</strong>，保存并下发策略，再执行DSEMainService update更新策略；</p></li><li><p>切换成功后，执行DSEMainService status会显示WorkState:0。</p></li><li><p>示例：</p></li></ul><pre tabindex=0><code>root@ubuntu:~/demo# DSEMainService stopdrvset work stat okroot@ubuntu:~/demo# DSEMainService statusDrivers status:1Local IP:192.168.1.101Server IP:192.168.1.100Connect status:1WorkState:0  # 已切换到个人模式NetworkCtl:1
</code></pre><h4 id=332-切换到工作模式>3.3.2 切换到工作模式<a hidden class=anchor aria-hidden=true href=#332-切换到工作模式>#</a></h4><p>工作模式下，DSE 客户端启用加密策略管控，命令格式：</p><pre tabindex=0><code>DSEMainService startdrv
</code></pre><ul><li><p>注意事项：与个人模式切换类似，若提示无权限，需先在控制台配置切换权限并更新策略；</p></li><li><p>切换成功后，DSEMainService status会显示WorkState:1。</p></li></ul><h4 id=333-开启-dmesg-日志记录>3.3.3 开启 dmesg 日志记录<a hidden class=anchor aria-hidden=true href=#333-开启-dmesg-日志记录>#</a></h4><p>用于记录非加密进程打开加密文件的日志（调试场景使用），命令格式：</p><pre tabindex=0><code># 开启日志记录DSEMainService trace on# 关闭日志记录DSEMainService trace off
</code></pre><ul><li>示例：检测cat命令是否能自动解密加密文件（users.txt）</li></ul><ol><li>先加密users.txt：</li></ol><pre tabindex=0><code>root@ubuntu:~/demo# DSEMainService encrypt users.txtstart Encrypt: users.txtEncrypt file: users.txt succeeded.
</code></pre><ol start=2><li>开启日志记录并清空历史日志：</li></ol><pre tabindex=0><code>root@ubuntu:~/demo# DSEMainService trace onset trace success.root@ubuntu:~/demo# dmesg -C  # 清空dmesg历史日志
</code></pre><ol start=3><li>使用cat查看加密文件：</li></ol><pre tabindex=0><code>root@ubuntu:~/demo# cat users.txt# 显示乱码（表示无法自动解密）
</code></pre><ol start=4><li>查看日志确认结果：</li></ol><pre tabindex=0><code>root@ubuntu:~/demo# dmesg | grep auto4061.706515] DSE:Time:[UTC time:2021-3-23 3:8:48] :process name:/bin/cat,open encrypt file:/root/demo/users.txt ,not auto decrypt!
</code></pre><blockquote><p>结论：cat进程无法自动解密users.txt文件。</p></blockquote><h3 id=34-其他实用命令>3.4 其他实用命令<a hidden class=anchor aria-hidden=true href=#34-其他实用命令>#</a></h3><h4 id=341-检测文件加密状态>3.4.1 检测文件加密状态<a hidden class=anchor aria-hidden=true href=#341-检测文件加密状态>#</a></h4><p>用于检查文件 / 文件夹是否已加密，命令格式：</p><pre tabindex=0><code>DSEMainService check path/file –t filetypes  # -t 可选，指定文件类型
</code></pre><ul><li>示例：</li></ul><pre tabindex=0><code># 检测已加密文件（a.c）root@kepler:~# DSEMainService check a.cstart Check Encrypt File: a.c.Encrypt file: a.c.# &lt;/doubaocanvas&gt;
</code></pre></div><footer class=post-footer><ul class=post-tags><li><a href=https://DikiFive.github.io/tags/tutorial/>Tutorial</a></li></ul><nav class=paginav><a class=next href=https://DikiFive.github.io/posts/hello-world/><span class=title>Next »</span><br><span>你好，世界</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://DikiFive.github.io/>DK_blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>